{% macro ad(size) %}
<div class="sidebar-block bg-gray">
    <h3>Advertisement</h3>
    <p>
        No ads, yay!!
    </p>
</div>
{% endmacro %}

{% macro custom_style(header_color, background_color) %}
<style>
header {
    background-color: {{ header_color }};
}
nav, #nav:link, #logo {
    color: {{ header_text_color }} !important;
}

body {
    background-color: {{ background_color }};
    color: {{ text_color }};
}
.card {
    background-color: {{ card_color }};
}
aside {
    background-color: {{ aside_color }};
}
</style>
{% endmacro %}


{% macro search(suggestions) %}
<form action="{{ url_for('users.search') }}" method="get" class="lined block">
    <input name="search_term" type="text" list="project_names" placeholder="Enter a project name">
    <datalist id="project_names">
        {% for suggestion in suggestions %}
        <option value="{{suggestion.name}}">{{suggestion.name}} - {{suggestion.description[:20]}}</option>
        {% endfor %}
    </datalist>
    <input type="submit" value="Search" class="button-secondary">
</form>
{% endmacro %}



{% macro bugcard(ref_id, details, author, author_email, status, version, report_date, resolve_date, location, type, color_code = {"PENDING": "bg-yellow", "RESOLVED": "bg-green"}) %}
<div class="card">
    <h2>#{{ref_id}}</h2>
    <div>
        <span class="tag-mini bg-darkgray">{{ version }}</span>
        <span class="tag-mini {{ color_code[status] }}">{{ status }}</span>
        
        <span class="tag-mini bg-gray">Loc: {{ location }}</span>
        <span class="tag-mini bg-gray">Type: {{ type }}</span>
    </div>
    <h3>Description</h3>
    <p class="linebreak">
        {{ details }}
    </p>
    <!-- <p class="linebreak">
        {{ details[:100] }}{% if details|length > 100 %}<a onclick="toggleElement('bug-{{ref_id}}'); toggleElement('bug-{{ref_id}}-toggle')" id="bug-{{ref_id}}-toggle"> (show more)</a><span class="hidden" id="bug-{{ref_id}}">{{ details[100:] }}</span>
        {% endif %}
    </p> -->
    <div class="author">
        {% if author != "" or author_email != "" %}
        <b>Reported by:</b> {{ author }} (Email: {{ author_email }})
        {% endif %} <br>
        <b>Reported on:</b> {{ report_date.strftime('%Y-%m-%d') }}
        <br>
        {% if status == "RESOLVED" %}
        <b>Resolved on:</b> {{ resolve_date }}
        {% endif %}
    </div>


    <div class="cardcontrolstoggle" onClick="showControls('card-{{ref_id}}-controls')">
        &circledcirc;
    </div>
    <div class="hidden cardcontrols" id='card-{{ref_id}}-controls'>
        <button>RESOLVE</button>
        <button>PIN &#x02606;</button>
        <button>DELETE &#128465;</button>
        <button onClick="showControls('card-{{ref_id}}-controls')" style="color: #ff3939">CANCEL &rarrhk;</button>
    </div>

    
</div>
{% endmacro %}