{% extends 'confined.html' %}
{% import 'macros.html' as macros %}

{% block addons %}{% endblock %}

{% block title %}
    BugDiary - {{project.name}} Settings
{% endblock %}

{% block custom_nav %}
{{ macros.project_nav(project) }}
{% endblock %}

{% block main %}
<h1>{{project.name}} Settings</h1>
<div class="main-aside">
    <main>
        <div class="bg-white shadowed rounded block">
            <form method="post" autocomplete="off">

                <div class="lined rounded block">
                    <h5 onclick="toggleElement('configuration-options')">Configuration (expand)</h5>
                    <div id="configuration-options" class="hidden">
                        {{ form1.hidden_tag() }}
                        {{ form1.current_version.label }}{{ form1.current_version }}
                        {{ form1.per_page.label }}{{ form1.per_page }}
                        {{ form1.ext_url.label }}{{ form1.ext_url }}
                        {{ form1.visibility }}{{ form1.visibility.label }} <br>
                        {{ form1.allow_suggestions }}
                        {{ form1.allow_suggestions.label }}
                        {{ form1.submit1(class_="button-primary") }}
                    </div>
                </div>

                <div class="lined rounded block">
                    <h5 onclick="toggleElement('info-options')">Project Information (expand)</h5>
                    <div id="info-options" class="hidden">
                        {{ form3.hidden_tag() }}
                        {{ form3.name.label }}{{ form3.name }}
                        {{ form3.description.label }}{{ form3.description }}
                        {{ form3.submit3(class_="button-primary") }}
                    </div>
                </div>

                <div class="lined rounded block">
                    <h5 onclick="toggleElement('custom-options')">Customization (expand)</h5>
                    <div id="custom-options" class="hidden">
                        {{ form2.hidden_tag() }}
                        {{ form2.header_color.label }}{{ form2.header_color }}
                        {{ form2.background_color.label }}{{ form2.background_color }}
                        <!-- {{ form2.header_text_color.label }}
                        {{ form2.header_text_color }} -->
                        {{ form2.menu_color.label }}
                        {{ form2.menu_color }}
                        {{ form2.aside_color.label }}{{ form2.aside_color }}
                        {{ form2.text_color.label }}{{ form2.text_color }}
                        {{ form2.link_color.label }}{{ form2.link_color }}
                        {{ form2.submit2(class_="button-primary") }}
                    </div>
                </div>

                
            </form>
        </div>
    </main>
    <aside>
        <div class="sidebar-block bg-gray">
            <h3>Delete</h3>
            <p>
                You can delete this project, or it will expire in 6 months if you leave it alone.
            </p>
            <a href="{{ url_for('projects.delete', project_url = project.url) }}" class="rounded shadowed button-secondary" onclick="return confirm('Are you sure you want to delete this project? This action is irreversible!')">Delete</a>
        </div>
    </aside>
</div>
{% endblock %}